<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Futurologia AI ⚽</title>
  <style>
    :root {
      --primary: #FF0000;
      --secondary: #000000;
      --accent: #009B3A;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
      min-height: 100vh;
      color: #333;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
    }
    header {
      text-align: center;
      margin-bottom: 2rem;
      position: relative;
    }
    h1 {
      color: var(--primary);
      font-size: 2.5rem;
      margin: 0;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: white;
      padding: 0.5rem 1.5rem;
      border-radius: 50px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .search-box {
      background: white;
      padding: 1.5rem;
      border-radius: 16px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.08);
      margin-bottom: 1.5rem;
    }
    .input-group {
      display: flex;
      gap: 0.5rem;
    }
    input {
      flex: 1;
      padding: 0.75rem 1rem;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      font-size: 1rem;
      transition: all 0.3s;
    }
    input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(255,0,0,0.1);
    }
    button {
      padding: 0.75rem 1.5rem;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 12px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 1rem;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }
    button:hover {
      background: var(--secondary);
      transform: translateY(-2px);
    }
    button.secondary {
      background: var(--accent);
      margin-left: 0.5rem;
    }
    .quick-buttons {
      display: flex;
      gap: 0.5rem;
      margin-top: 1rem;
      flex-wrap: wrap;
    }
    .quick-buttons button {
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      background: #f0f4f8;
      color: #333;
      border: 1px solid #ddd;
    }
    .quick-buttons button:hover {
      background: var(--primary);
      color: white;
      transform: none;
    }
    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255,255,255,0.3);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 1s ease-in-out infinite;
      margin-right: 8px;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    .result-container {
      background: white;
      padding: 2rem;
      border-radius: 16px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.08);
      margin-top: 1.5rem;
      display: none;
      animation: fadeIn 0.5s ease-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .error-message {
      color: #d32f2f;
      background: #fde8e8;
      padding: 1rem;
      border-radius: 8px;
      margin-top: 1rem;
      text-align: center;
      display: none;
    }
    .teams-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.5rem;
      margin: 2rem 0;
    }
    .team-card {
      padding: 1.5rem;
      border-radius: 12px;
      background: linear-gradient(135deg, #f8fafc 0%, #f0f4f8 100%);
      text-align: center;
      border: 1px solid #e2e8f0;
    }
    .team-logo {
      width: 100px;
      height: 100px;
      object-fit: contain;
      margin: 0 auto 1rem;
    }
    .team-name {
      font-weight: bold;
      font-size: 1.25rem;
      margin-bottom: 0.5rem;
      color: var(--secondary);
    }
    .stats-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0.75rem;
      text-align: left;
    }
    .stat-item {
      font-size: 0.95rem;
    }
    .stat-value {
      font-weight: bold;
      color: var(--primary);
    }
    .ai-report {
      background: #f0f9ff;
      padding: 1.5rem;
      border-radius: 12px;
      margin: 2rem 0;
      border-left: 4px solid var(--primary);
      white-space: pre-line;
      line-height: 1.6;
    }
    .predictions-table {
      width: 100%;
      border-collapse: collapse;
    }
    .predictions-table th, 
    .predictions-table td {
      padding: 1rem;
      text-align: left;
      border-bottom: 1px solid #e2e8f0;
    }
    .predictions-table th {
      background: #f8fafc;
      font-weight: 600;
      color: var(--secondary);
    }
    .predictions-table tr:hover {
      background: #f8fafc;
    }
    @media (max-width: 768px) {
      .container {
        padding: 1rem;
      }
      .teams-container {
        grid-template-columns: 1fr;
      }
      .input-group {
        flex-direction: column;
      }
      button.secondary {
        margin-left: 0;
        margin-top: 0.5rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5"></path>
          <path d="M12 2v8"></path>
          <circle cx="12" cy="12" r="10"></circle>
        </svg>
        Futurologia AI
      </h1>
    </header>
    
    <div class="search-box">
      <div class="input-group">
        <input 
          type="text" 
          id="matchInput" 
          placeholder="Ex: Flamengo x Palmeiras"
          autocomplete="off"
        >
        <button id="analyzeButton">Analisar</button>
        <button id="randomMatchButton" class="secondary">Jogo Aleatório</button>
      </div>
      
      <div class="quick-buttons">
        <button data-match="Flamengo x Palmeiras">FLA x PAL</button>
        <button data-match="Corinthians x São Paulo">COR x SÃO</button>
        <button data-match="Grêmio x Internacional">GRE x INT</button>
        <button data-match="Atlético-MG x Cruzeiro">CAM x CZE</button>
        <button data-match="Vasco x Fluminense">VAS x FLU</button>
      </div>
      
      <div id="errorMessage" class="error-message"></div>
    </div>
    
    <div id="resultContainer" class="result-container">
      <h2 id="matchTitle"></h2>
      <div id="teamStats" class="teams-container"></div>
      <div id="aiReport" class="ai-report"></div>
      <table class="predictions-table">
        <thead>
          <tr>
            <th>Recomendação</th>
            <th>Detalhes</th>
          </tr>
        </thead>
        <tbody id="predictionTableBody"></tbody>
      </table>
    </div>
  </div>

  <script>
    // Configurações
    const BRAZILIAN_TEAMS = {
      'flamengo': { id: 121, logo: 'https://ssl.gstatic.com/onebox/media/sports/logos/1x/flamengo_60x60.png' },
      'palmeiras': { id: 127, logo: 'https://ssl.gstatic.com/onebox/media/sports/logos/1x/palmeiras_60x60.png' },
      'corinthians': { id: 119, logo: 'https://ssl.gstatic.com/onebox/media/sports/logos/1x/corinthians_60x60.png' },
      'são paulo': { id: 135, logo: 'https://ssl.gstatic.com/onebox/media/sports/logos/1x/sao_paulo_60x60.png' },
      'grêmio': { id: 124, logo: 'https://ssl.gstatic.com/onebox/media/sports/logos/1x/gremio_60x60.png' },
      'internacional': { id: 125, logo: 'https://ssl.gstatic.com/onebox/media/sports/logos/1x/internacional_60x60.png' },
      'atlético-mg': { id: 118, logo: 'https://ssl.gstatic.com/onebox/media/sports/logos/1x/atletico_mg_60x60.png' },
      'cruzeiro': { id: 120, logo: 'https://ssl.gstatic.com/onebox/media/sports/logos/1x/cruzeiro_60x60.png' },
      'vasco': { id: 136, logo: 'https://ssl.gstatic.com/onebox/media/sports/logos/1x/vasco_60x60.png' },
      'fluminense': { id: 122, logo: 'https://ssl.gstatic.com/onebox/media/sports/logos/1x/fluminense_60x60.png' },
      'botafogo': { id: 117, logo: 'https://ssl.gstatic.com/onebox/media/sports/logos/1x/botafogo_60x60.png' },
      'santos': { id: 133, logo: 'https://ssl.gstatic.com/onebox/media/sports/logos/1x/santos_60x60.png' }
    };

    document.addEventListener('DOMContentLoaded', () => {
      // Event listeners
      document.getElementById('analyzeButton').addEventListener('click', analyzeMatch);
      document.getElementById('randomMatchButton').addEventListener('click', randomMatch);
      document.querySelectorAll('.quick-buttons button').forEach(btn => {
        btn.addEventListener('click', (e) => {
          document.getElementById('matchInput').value = e.target.dataset.match;
          analyzeMatch();
        });
      });
      document.getElementById('matchInput').addEventListener('keypress', (e) => {
        if (e.key === 'Enter') analyzeMatch();
      });
    });

    async function analyzeMatch() {
      const match = document.getElementById('matchInput').value.trim().toLowerCase();
      if (!match || !match.includes(' x ') && !match.includes(' vs ')) {
        showError('Digite um confronto válido (ex: Flamengo x Palmeiras)');
        return;
      }
      
      toggleLoading(true);
      clearError();
      
      try {
        const [team1Name, team2Name] = match.split(/ x | vs /i).map(t => t.trim());
        const analysis = await getMatchAnalysis(team1Name, team2Name);
        displayResults(team1Name, team2Name, analysis);
      } catch (error) {
        console.error('Erro:', error);
        showError(error.message || 'Erro ao analisar. Tente nomes como: Flamengo, Palmeiras, Corinthians...');
      } finally {
        toggleLoading(false);
      }
    }

    function randomMatch() {
      const teams = Object.keys(BRAZILIAN_TEAMS);
      const team1 = teams[Math.floor(Math.random() * teams.length)];
      let team2 = teams[Math.floor(Math.random() * teams.length)];
      while (team2 === team1) {
        team2 = teams[Math.floor(Math.random() * teams.length)];
      }
      document.getElementById('matchInput').value = `${team1} x ${team2}`;
      analyzeMatch();
    }

    async function getMatchAnalysis(team1Name, team2Name) {
      // Verifica se são times brasileiros conhecidos
      const team1 = BRAZILIAN_TEAMS[team1Name] || { id: null, logo: null };
      const team2 = BRAZILIAN_TEAMS[team2Name] || { id: null, logo: null };
      
      // Simulação de dados - substitua por API real se necessário
      const stats1 = await fetchTeamStats(team1.id || team1Name);
      const stats2 = await fetchTeamStats(team2.id || team2Name);
      
      return {
        prediction: generatePrediction(stats1, stats2),
        report: generateReport(team1Name, team2Name, stats1, stats2),
        stats: {
          team1: { ...stats1, logo: team1.logo },
          team2: { ...stats2, logo: team2.logo }
        }
      };
    }

    function fetchTeamStats(teamIdOrName) {
      // Simulação - substitua por chamada real à API
      return new Promise((resolve) => {
        setTimeout(() => {
          resolve({
            position: Math.floor(Math.random() * 20) + 1,
            played: 20,
            wins: Math.floor(Math.random() * 12) + 5,
            draws: Math.floor(Math.random() * 6) + 2,
            losses: Math.floor(Math.random() * 8) + 1,
            goalsFor: Math.floor(Math.random() * 30) + 15,
            goalsAgainst: Math.floor(Math.random() * 25) + 10,
            cleanSheets: Math.floor(Math.random() * 8) + 2,
            avgCards: (Math.random() * 2 + 2).toFixed(1),
            avgCorners: Math.floor(Math.random() * 4 + 3)
          });
        }, 800);
      });
    }

    function generatePrediction(stats1, stats2) {
      const team1WinProb = calculateWinProbability(stats1, stats2);
      const avgGoals = (stats1.goalsFor + stats2.goalsFor) / (stats1.played + stats2.played) * 2;
      
      return {
        winner: `${team1WinProb}% de chance`,
        goals: `Média de ${avgGoals.toFixed(1)} gols`,
        cards: `${((stats1.avgCards + stats2.avgCards) / 2).toFixed(1)} por jogo`,
        corners: `${Math.round((stats1.avgCorners + stats2.avgCorners) / 2)} por jogo`,
        firstScorer: `${Math.max(30, Math.min(70, team1WinProb + 10))}% de chance`
      };
    }

    function generateReport(team1, team2, stats1, stats2) {
      return `🔍 Análise do confronto ${team1} x ${team2}:

• ${team1}: ${stats1.position}ª posição | ${stats1.wins}V-${stats1.draws}E-${stats1.losses}D
  ${stats1.goalsFor} gols marcados | ${stats1.goalsAgainst} sofridos

• ${team2}: ${stats2.position}ª posição | ${stats2.wins}V-${stats2.draws}E-${stats2.losses}D
  ${stats2.goalsFor} gols marcados | ${stats2.goalsAgainst} sofridos

Destaques:
- ${stats1.goalsFor > stats2.goalsFor ? team1 : team2} tem o ataque mais eficiente
- ${stats1.goalsAgainst < stats2.goalsAgainst ? team1 : team2} apresenta a defesa mais sólida`;
    }

    function calculateWinProbability(stats1, stats2) {
      const positionDiff = (stats2.position - stats1.position) / 10;
      const goalDiff = (stats1.goalsFor - stats1.goalsAgainst) - (stats2.goalsFor - stats2.goalsAgainst);
      const winRateDiff = (stats1.wins / stats1.played) - (stats2.wins / stats2.played);
      
      let probability = 50 
        + (positionDiff * 15) 
        + (goalDiff * 0.5) 
        + (winRateDiff * 30);
      
      return Math.min(90, Math.max(10, Math.round(probability)));
    }

    function displayResults(team1, team2, data) {
      document.getElementById('matchTitle').textContent = `${team1} x ${team2}`;
      
      // Times
      document.getElementById('teamStats').innerHTML = `
        <div class="team-card">
          <img src="${data.stats.team1.logo || 'https://via.placeholder.com/100?text=LOGO'}" 
               alt="${team1}" 
               class="team-logo"
               onerror="this.src='https://via.placeholder.com/100?text=LOGO'">
          <div class="team-name">${team1}</div>
          <div class="stats-grid">
            <div class="stat-item">Posição: <span class="stat-value">${data.stats.team1.position}º</span></div>
            <div class="stat-item">Jogos: <span class="stat-value">${data.stats.team1.played}</span></div>
            <div class="stat-item">Gols: <span class="stat-value">${data.stats.team1.goalsFor}</span></div>
            <div class="stat-item">Sofridos: <span class="stat-value">${data.stats.team1.goalsAgainst}</span></div>
            <div class="stat-item">Vitórias: <span class="stat-value">${data.stats.team1.wins}</span></div>
            <div class="stat-item">Invicto: <span class="stat-value">${data.stats.team1.cleanSheets}</span></div>
          </div>
        </div>
        <div class="team-card">
          <img src="${data.stats.team2.logo || 'https://via.placeholder.com/100?text=LOGO'}" 
               alt="${team2}" 
               class="team-logo"
               onerror="this.src='https://via.placeholder.com/100?text=LOGO'">
          <div class="team-name">${team2}</div>
          <div class="stats-grid">
            <div class="stat-item">Posição: <span class="stat-value">${data.stats.team2.position}º</span></div>
            <div class="stat-item">Jogos: <span class="stat-value">${data.stats.team2.played}</span></div>
            <div class="stat-item">Gols: <span class="stat-value">${data.stats.team2.goalsFor}</span></div>
            <div class="stat-item">Sofridos: <span class="stat-value">${data.stats.team2.goalsAgainst}</span></div>
            <div class="stat-item">Vitórias: <span class="stat-value">${data.stats.team2.wins}</span></div>
            <div class="stat-item">Invicto: <span class="stat-value">${data.stats.team2.cleanSheets}</span></div>
          </div>
        </div>
      `;
      
      // Relatório
      document.getElementById('aiReport').textContent = data.report;
      
      // Previsões
      const tableBody = document.getElementById('predictionTableBody');
      tableBody.innerHTML = '';
      Object.entries(data.prediction).forEach(([key, value]) => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${formatKey(key)}</td>
          <td>${value}</td>
        `;
        tableBody.appendChild(row);
      });
      
      document.getElementById('resultContainer').style.display = 'block';
    }

    function formatKey(key) {
      const names = {
        winner: 'Vencedor',
        goals: 'Gols',
        cards: 'Cartões',
        corners: 'Escanteios',
        firstScorer: 'Primeiro Gol'
      };
      return names[key] || key;
    }

    function toggleLoading(show) {
      const button = document.getElementById('analyzeButton');
      button.disabled = show;
      button.innerHTML = show 
        ? '<span class="loading"></span> Analisando...' 
        : 'Analisar';
    }

    function showError(message) {
      const errorDiv = document.getElementById('errorMessage');
      errorDiv.textContent = message;
      errorDiv.style.display = 'block';
    }

    function clearError() {
      document.getElementById('errorMessage').style.display = 'none';
    }
  </script>
</body>
</html>